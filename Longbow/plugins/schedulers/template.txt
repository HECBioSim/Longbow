import logging                                                  # IMPORTANT

#------------------------------------------------------------------------------
# Boiler plate for logging.

LOG = logging.getLogger("Longbow.plugins.schedulers.template")  # IMPORTANT

#------------------------------------------------------------------------------
# For schedulers a unique string to identify the scheduler should go here.
# Sometimes "env | grep -i 'something specific'" will suffice.

QUERY_STRING = "unique identifier here."                        # IMPORTANT

#------------------------------------------------------------------------------
# Delete method.

def delete(host, job):                                          # IMPORTANT

	jobid = job["jobid"]

    """Method for deleting job."""

    LOG.info("Deleting the job with id: %s", jobid)

    ########################################################
    #                                                      #
    #                                                      #
    #                  Your code here.                     #
    #                                                      #
    #                                                      #
    ########################################################

    LOG.info("  Deleted successfully")


#------------------------------------------------------------------------------
# Prepare method

def prepare(hosts, jobname, jobs):                             # IMPORTANT

    """Create the LSF jobfile ready for submitting jobs"""

    LOG.info("  Creating submit file for job: %s", jobname)
    
    # Open file for script.
    lsffile = os.path.join(jobs[jobname]["localworkdir"], "submit.extension")
    jobfile = open(lsffile, "w+")

    # Write the script
    jobfile.write("#!/bin/bash --login\n")
    
    ########################################################
    #                                                      #
    #                                                      #
    #                  Your code here.                     #
    #                                                      #
    #                                                      #
    ########################################################
    
    # Append submitfile to list of files ready for staging.
    jobs[jobname]["subfile"] = "submit.extension"                     # IMPORTANT


#------------------------------------------------------------------------------
# Status method

def status(host, jobid):                                        # IMPORTANT

    """Method for querying job."""
    
    ########################################################
    #                                                      #
    #                                                      #
    #                  Your code here.                     #
    #                                                      #
    #                                                      #
    ########################################################    
    
    return state (return the state of job)                      # IMPORTANT
    
    
    
#------------------------------------------------------------------------------
# Submit method
    
def submit(host, jobname, jobs):                                # IMPORTANT

    """Method for submitting job."""

    ########################################################
    #                                                      #
    #                                                      #
    #                  Your code here.                     #
    #                                                      #
    #                                                      #
    ########################################################    
    
    LOG.info("  Job: %s submitted with id: %s", jobname, output)

    jobs[jobname]["jobid"] = output                             # IMPORTANT
    
    